<h2>Анкета Образовательного Учреждения</h2>

<mat-card class="question" *ngFor="let question of notBooleanQuestions">
    <mat-card-header>
        <mat-card-title><strong>{{ question?.Body }}</strong></mat-card-title>
        <mat-card-subtitle class="question-desc"><i>{{ question?.Description }}</i></mat-card-subtitle>
    </mat-card-header>

    <mat-card-content *ngIf="question.HasSessions; else elseBlock">
        <label>
            2016-2017 учебный год
            <input class="form-control" type="number" min="0" (blur)="onSessionValuePassed(question, '2016-2017', $event.target.value)" [value]="question.SessionValues['2016-2017']" required />
        </label>
        <label>
            2017-2018 учебный год
            <input class="form-control" type="number" min="0" (blur)="onSessionValuePassed(question, '2017-2018', $event.target.value)" [value]="question.SessionValues['2017-2018']" required />
        </label>
        <label>
            2018-2019 учебный год
            <input class="form-control" type="number" min="0" (blur)="onSessionValuePassed(question, '2018-2019', $event.target.value)" [value]="question.SessionValues['2018-2019']" required />
        </label>
    </mat-card-content>
    <ng-template #elseBlock>
        <input class="form-control" placeholder="Значение" type="number" min="0" (blur)="onValuePassed(question, $event.target.value)" [value]="question.Value" required />
    </ng-template>
</mat-card>

<h3 *ngIf="!isLoading" class="boolean-question-caption">Следующий блок вопросов является вопросами типа "ДА- НЕТ"</h3>
<mat-card class="question" *ngFor="let question of booleanQuestions">
    <mat-card-header>
        <mat-card-title><strong>{{ question?.Body }}</strong></mat-card-title>
    </mat-card-header>
    <mat-card-content>
        <mat-radio-group (change)="onRadioSelected(question, $event.value)" [value]="question.Value">
            <mat-radio-button [value]="1">Да</mat-radio-button>
            <mat-radio-button [value]="0">Нет</mat-radio-button>
        </mat-radio-group>
    </mat-card-content>
</mat-card>

<spinner-view *ngIf="isLoading"></spinner-view>