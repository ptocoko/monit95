<div class="page-header">
    <h3>Список участников</h3>
</div>

<!--<div class="panel">-->
    <div class="form-group">
        <div>
            <!--<div *ngIf="particips" style="display:inline-block;">
                <input type="text" [(ngModel)]="searchText" class="form-control" placeholder="поиск по фамилии..." />
            </div>-->

            <div style="display:inline-block;">                
                <!--<a class="btn btn-default" href="/api/files/rsurParticipLists/{{userName}}" target="_blank">
                    <i class="fa fa-file-excel-o fa-lg"></i> Экспорт
                </a>-->
            </div>
        </div>
        <div>
            <button style="z-index: 10; position:fixed;left:80%;top:80%; background-color: green; color:white; font-size:x-large" md-fab color="primary" routerLink="/rsurparticips/new">+</button>
        </div>                
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th class="text-center">Код</th>
                    <th class="text-center">Фамилия</th>
                    <th class="text-center">Имя</th>
                    <th class="text-center">Отчеcтво</th>
                    <th class="text-center">Предмет</th>
                    <th class="text-center">Актуальность</th>                    
                </tr>
            </thead>
            <tbody>
                <!--<tr *ngFor="let particip of particips | rsurParticipFilter: searchText | limitTo: 100">-->
            <tr *ngFor="let particip of particips" [class.red]="particip.ActualCode == 0"                                                    
                                                   [class.yellow]="particip.ActualCode == 2">
                    <td class="text-center" style="vertical-align:middle">{{particip.Code}}</td>
                    <td style="vertical-align:middle">{{particip.Surname}}</td>
                    <td style="vertical-align:middle">{{particip.Name}}</td>
                    <td style="vertical-align:middle">{{particip.SecondName}}</td>
                    <td style="vertical-align:middle">{{particip.RsurSubjectName}}</td>
                    <td>
                        <div *ngIf="particip.ActualCode != 2">
                            <div class="radio">
                                <label><input type="radio" name="{{particip.Code}}" (click)="setActualCode(particip, 1)"
                                              [checked]="particip.ActualCode == 1"> без изменений</label>
                            </div>
                            <div class="radio">
                                <label><input type="radio" name="{{particip.Code}}" (click)="setActualCode(particip, 0)"
                                              [checked]="particip.ActualCode == 0"/> выбыл</label>
                            </div>    
                        </div>
                        <div *ngIf="particip.ActualCode == 2">новый</div>
                    </td>
                    <td *ngIf="particip.ActualCode == 2"><a style="cursor:pointer" class="glyphicon glyphicon-trash" (click)="delete(particip.Code)"></a></td>                    
            <!--<td>
                <button type="button" class="btn btn-default" (click)="openModal(particip)">
                    <span class="glyphicon glyphicon-menu-right"></span>запросить
                </button>
            </td>-->
                </tr>
            </tbody>
        </table>
        <br />
        <div>
            <button [disabled]="isFinished" class="btn btn-primary" (click)="onFinished()">Актуализация окончена</button>
        </div>
    </div>
<!--</div>-->