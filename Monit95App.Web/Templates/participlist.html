<body>
    <div id="body">
        <div ng-init="i($rootScope.username)">
            <div ng-hide="Particip.ParticipCode != '' ">                                  
                <div class="container">
                    <form name="participForm" novalidate>
                        <fieldset>
                            <legend>Добавить участника</legend>
                            <div class="form-horizontal">
                                <div class="form-group">
                                    <label for="surname" class="col-sm-1 control-label">Фамилия:</label>
                                    <div class="col-sm-5">
                                        <input type="text" class="form-control" ng-model="Particip.Surname" required placeholder="введите фамилию участника" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="name" class="col-sm-1 control-label">Имя:</label>
                                    <div class="col-sm-5">
                                        <input type="text" class="form-control" ng-model="Particip.Name" required placeholder="введите имя участника" />
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="secondName" class="col-sm-1 control-label">Отчетсво:</label>
                                    <div class="col-md-5">
                                        <input type="text" class="form-control" ng-model="Particip.SecondName" required placeholder="введите отчество участника" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="subjectName" class="col-sm-1 control-label">Предмет</label>
                                    <div class="col-md-5">
                                        <select class="form-control" ng-options="opt.code as opt.name for opt in subjects" ng-model="Particip.SubjectCode" required></select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="schoolName" class="col-sm-1 control-label">Школа:</label>
                                    <div class="col-md-5">
                                        <select class="form-control" ng-options="item.id as item.idWithName for item in schoolsData" ng-model="Particip.SchoolId" required></select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="categName" class="col-sm-1 control-label">Категория:</label>
                                    <div class="col-md-5">
                                        <select class="form-control" ng-options="opt.id as opt.name for opt in categories" ng-model="Particip.CategId" required></select>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="experience" class="col-sm-1 control-label">Стаж:</label>
                                    <div class="col-md-5">
                                        <input type="number" class="form-control" ng-model="Particip.Experience" required placeholder="укажите стаж работы (0-99)" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="phone" class="col-sm-1 control-label">Телефон:</label>
                                    <div class="col-md-5">
                                        <input type="tel" class="form-control" ng-model="Particip.Phone" required placeholder="только цифры" />
                                    </div>
                                </div>

                                <div class="form-group">
                                    <label for="email" class="col-sm-1 control-label">Email:</label>
                                    <div class="col-md-5">
                                        <input type="email" class="form-control" ng-model="Particip.Email" placeholder="email" />
                                    </div>
                                </div>
                                <div>
                                    <button type="submit" data-ng-click="save(Particip, participForm)" class="btn btn-success">Добавить</button>
                                    <button data-ng-click="clear()" class="btn btn-danger">Очистить</button>
                                </div>
                            </div>
                        </fieldset>
                    </form>
                </div>

            </div>

            <br />
            <table ng-cloak class="table table-striped">
                <thead>
                    <tr>
                        <th style="display: none;">Code</th>
                        <th>#</th>
                        <th>Фамилия</th>
                        <th>Имя</th>
                        <th>Отчество</th>
                        <th>Предмет</th>
                        <th>Образовательная организация</th>
                        <th>другое</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="items in participsData | orderBy: 'SchoolIdWithName'">
                        <td hidden="hidden">{{items.ParticipCode}}</td>
                        <td class="mytd">{{$index + 1}}</td>
                        <td class="mytd">{{items.Surname}}</td>
                        <td class="mytd">{{items.Name}}</td>
                        <td class="mytd">{{items.SecondName}}</td>
                        <td class="mytd">{{items.SubjectName}}</td>
                        <td class="mytd">{{items.SchoolIdWithName}}</td>
                        <td class="mytd">
                            категория: {{items.CategName}}<br />
                            стаж: {{items.Experience}}<br />
                            телефон: {{items.Phone}}<br />
                            email: {{items.Email}}
                        </td>
                        <td>
                            <button ng-click="delete($index)" class="btn btn-sm btn-danger">удалить</button>
                        </td>
                    </tr>
                </tbody>               
            </table>
            <br />
            <div style="border-top: solid 2px #282828; width: 430px; height: 10px"> </div>           
        </div>
    </div>
</body>
